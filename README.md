# â˜ï¸ MLOps Cloud Project - Weather Forecast Pipeline

## ğŸš€ CI/CD Codecov ì»¤ë²„ë¦¬ì§€

[![codecov](https://codecov.io/gh/YOUR_USERNAME/YOUR_REPO_NAME/branch/main/graph/badge.svg)](https://codecov.io/gh/YOUR_USERNAME/YOUR_REPO_NAME)
[![CI/CD Pipeline](https://github.com/YOUR_USERNAME/YOUR_REPO_NAME/actions/workflows/build-deploy.yml/badge.svg)](https://github.com/YOUR_USERNAME/YOUR_REPO_NAME/actions/workflows/build-deploy.yml)


<br>

## ğŸ’» í”„ë¡œì íŠ¸ ì†Œê°œ & ğŸ”¨ ê°œë°œ í™˜ê²½ ë° ê¸°ìˆ  ìŠ¤íƒ
This project implements a full **MLOps pipeline** for time-series **weather forecasting** and **clothing recommendation** service, based on:
- **Airflow** for orchestration
- **MLflow** for experiment tracking & model management
- **Project_root** pipeline for training & inference
- **Serving layer** for API and visualization
- **Streamlit** for internal monitoring UI
- **Grafana** for metric dashboards 
- **Prometheus** for metrics collection & storage & alerting

<br>

## ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ íŒ€ êµ¬ì„±ì›

| <img src="https://github.com/ohseungtae.png" width="120"/> | <img src="https://github.com/JBreals.png" width="120"/> | <img src="https://github.com/kdlee02.png" width="120"/> | <img src="https://github.com/hwang1999.png" width="120"/> | 
| :--------------------------------------------------------: | :------------------------------------------------------: | :------------------------------------------------------: | :--------------------------------------------------------: | 
| [ì˜¤ìŠ¹íƒœ](https://github.com/ohseungtae)                   | [ê¹€ì •ë¹ˆ](https://github.com/JBreals)                   | [ì´ê²½ë„](https://github.com/kdlee02)                   | [í™©ì¤€ì—½](https://github.com/hwang1999)                   |
| ML ëª¨ë¸ êµ¬ì¶• & CI CD ë‹´ë‹¹                                   |     Docke repo êµ¬ì¶• & <br>ë°°í¬ íŒŒì´í”„ë¼ì¸ ìë™í™” & <br>ì¸í”„ë¼ êµ¬ì¶•                         |      ML Engineering & <br>Monitoring & Streamlit                           |            ML ëª¨ë¸ êµ¬ì¶• & <br>ì¶”ë¡  API ì½”ë“œ ì„¤ê³„                     |     


<br>

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
â”œâ”€â”€ api_server-network/
â”‚   â”œâ”€â”€ api-server/              # API Gateway (FastAPI)
â”‚   â”œâ”€â”€ inference-server/        # Inference Backend (FastAPI)
â”‚   â”œâ”€â”€ streamlit/               # Visualization UI (Streamlit)
â”œâ”€â”€ datapipeline/                # Data pipeline scripts
â”œâ”€â”€ docs/                        # Project documentation
â”œâ”€â”€ mlops-airflow/               # Airflow DAGS & Plugins
â”œâ”€â”€ mlops-mlflow/                # MLflow server + example experiments
â”œâ”€â”€ modeling/                    # Prototype notebooks
â”œâ”€â”€ project_root/                # Production pipeline code (src/main.py â†’ run_all)
â”œâ”€â”€ serving/                     # Serving utils
â”œâ”€â”€ monitoring/                  # Prometheus and Grafana
â”œâ”€â”€ docker-compose.yml           # Project orchestration (Docker Compose)
â”œâ”€â”€ requirements.txt             # Core dependencies
â””â”€â”€ README.md                    # Project documentation

```

<br>

## ğŸ’»â€‹ êµ¬í˜„ ê¸°ëŠ¥
### ê¸°ëŠ¥1
- **ëª¨ë¸ í•™ìŠµ ìë™í™” íŒŒì´í”„ë¼ì¸ êµ¬ì¶•**
ëª¨ë¸ í•™ìŠµ(train), ê²€ì¦(eval), ì¶”ë¡ (inference)ê¹Œì§€ì˜ ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ìë™í™”í•˜ì—¬ CLI ëª…ë ¹ì–´ ë˜ëŠ” API ìš”ì²­ìœ¼ë¡œ í•™ìŠµ/ì¶”ë¡  ê°€ëŠ¥
### ê¸°ëŠ¥2
- **REST API ê¸°ë°˜ ì¶”ë¡  ì„œë¹„ìŠ¤ ì œê³µ**
í•™ìŠµëœ ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ API ì„œë²„ë¥¼ í†µí•´ ì™¸ë¶€ ì„œë¹„ìŠ¤ë‚˜ í´ë¼ì´ì–¸íŠ¸ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì˜ˆì¸¡ ê²°ê³¼ ìš”ì²­ ë° ìˆ˜ì‹  ê°€ëŠ¥
### ê¸°ëŠ¥3
- **ëª¨ë¸ ë²„ì „ ê´€ë¦¬ ë° ì•„í‹°íŒ©íŠ¸ ì €ì¥ì†Œ ì—°ë™**
í•™ìŠµëœ ëª¨ë¸ ì•„í‹°íŒ©íŠ¸ë¥¼ ìë™ ì €ì¥ ë° ë²„ì „ ê´€ë¦¬í•˜ë©°, MLflow ì—°ë™ìœ¼ë¡œ ì‹¤í—˜ ê²°ê³¼ ì¶”ì  ê°€ëŠ¥
### ê¸°ëŠ¥4
- **ë„¤íŠ¸ì›Œí¬ ê¸°ë°˜ ë¶„ì‚° í™˜ê²½ ëŒ€ì‘ êµ¬ì¡° ì„¤ê³„**
ë„¤íŠ¸ì›Œí¬ ê³„ì¸µê³¼ API ì„œë²„ë¥¼ ë¶„ë¦¬í•˜ì—¬ í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ê³ ë ¤í•œ MSA êµ¬ì¡° ì ìš©
### ê¸°ëŠ¥5
- **ë°ì´í„° íŒŒì´í”„ë¼ì¸ êµ¬ì„± ë° ì „ì²˜ë¦¬ ìë™í™”**
raw ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ê°€ê³µ/ì „ì²˜ë¦¬ í›„ ëª¨ë¸ í•™ìŠµì— ìµœì í™”ëœ ë°ì´í„°ì…‹ ìƒì„±ê¹Œì§€ ìë™ìœ¼ë¡œ ì²˜ë¦¬

<br>

## ğŸ› ï¸ ì‘í’ˆ ì•„í‚¤í…ì²˜(í•„ìˆ˜X)
## ğŸ—ºï¸ Architecture

```plaintext
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Airflow                         â”‚
â”‚ weather_pipeline_dag.py â†’ Data Ingestion              â”‚
â”‚ model_deployment_dag.pyâ†’inference-server/run_inferenceâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Pipeline                      â”‚
â”‚ collect_tokyo_weather â†’ load_and_split                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Modeling                        â”‚
â”‚ train_prophet / train_sarimax â†’ MLflow Tracking       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Evaluation & Testing                   â”‚
â”‚ evaluate_* â†’ predict_testset                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Model Selection                    â”‚
â”‚ get_best_model                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“                           
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       CI & CD                         â”‚
â”‚ unit test -> integration-test -> build docker         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Deployment (Airflow)               â”‚
â”‚ model_deployment.py â†’ inference-server/run_inference  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Serving Layer                      â”‚
â”‚ api-server: /forecast, /clothing                      â”‚
â”‚ inference-server: /run_inference                      â”‚
â”‚ streamlit: Visualization Dashboard                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Monitoring                       â”‚
â”‚ Prometheus                                            â”‚
â”‚ Grafana                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
<br>

## ğŸ“ Future Improvements

- Add model monitoring and alerting
- Integrate CI/CD pipeline
- Automate Airflow DAG triggering
- Improve API authentication
- Utilize rabbit mq for alerting messages + slack/email
- collect metric data for each containers and services using prometheus

